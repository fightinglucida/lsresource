{{- define "title" }}{{ .Title }} - {{ .Site.Title }}{{ end -}}

{{ define "main" }}
    {{- /* 加载页 */ -}}
    {{ partial "loading.html" . }}

    <div class="page-container">
    {{- /* 侧边栏 */ -}}
    {{ partial "sidebar.html" . }}

        <div class="main-content article flex-fill not">
            {{- /* 导航栏 */ -}}
            {{ partial "navbar.html" . }}

            {{- /* 内容 */ -}}
            <div class="page single special article-container">
                <div class="article-header">
                    {{- /* Title */ -}}
                    <h1 class="single-title animate__animated animate__fadeIn">
                        {{- .Title -}}
                    </h1>

                    {{- /* Description */ -}}
                    {{- with .Description -}}
                        <h2 class="single-subtitle">{{ . }}</h2>
                    {{- end -}}
                </div>
                
                <div class="article-content">
                    {{ .Content }}
                </div>
                
                <!-- Valine评论系统 -->
                <div id="vcomments" class="comments-section"></div>
            </div>
        </div>
    </div>

<!-- 引入Valine评论系统脚本 -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        new Valine({
            el: '#vcomments',
            appId: 'qyWzbuF8dpDMVsy7zevyIgpC-gzGzoHsz',  // 请替换为您的LeanCloud应用的appId
            appKey: 'qQivBCNTk8uU5Nlo6VNUc47C', // 请替换为您的LeanCloud应用的appKey
            placeholder: '请留下您的评论...',
            avatar: 'mp',
            meta: ['nick', 'mail', 'link'],
            pageSize: 10,
            lang: 'zh-CN',
            visitor: true,
            highlight: true,
            recordIP: true,
            serverURLs: ''  // 如果您是国内用户，请填写国内LeanCloud服务器地址
        });
    });
</script>
{{ end }}
